
@{
    ViewBag.Title = "Tâche";
    if (ViewBag.ListeExigence == null)
    {
        ViewBag.ListeExigences = new List<esimed.bean.sgprojet.Exigence>();
    }
    List<esimed.bean.sgprojet.Exigence> ListeExigences = ViewBag.ListeExigences;    

    if (ViewBag.Tache == null)
    {
        ViewBag.Tache = new esimed.bean.sgprojet.Tache();
    }
    esimed.bean.sgprojet.Tache Tache = ViewBag.Tache;
}

<h2>Visualisation d'une tâche</h2>

<div class="container" style="background-color: #eaf5ff!important;border-radius: .4rem;">
    <h1>@ViewBag.ProjetSelect.Nom : @Tache.Libelle (@Tache.Trigramme)</h1>
    <p>Responsable de la tâche : @Tache.Responsable.Prenom @Tache.Responsable.Nom</p>
    <p>
        Date de démarrage théorique : @Tache.DateDebutTheoriqueExe
    </p>
    <p>
        Date de démarrage réelle : @Tache.DateDemarrageReele
    </p>
    <p>
        Charge (jours) : @Tache.ChargeNbJours jours
    </p>
    <p>
        Statut :  En cours / En attente / Terminée
    </p>
</div>


<div class="row">
    <div class="col-md-12">
        <h4>
            Cette tâche pourra démarrer après la suivante :
        </h4>
        <table class="table">
            <tbody>
                <tr class="text-success">
                    @{ 
                        if(ViewBag.TacheRequise != null)
                        {
                            <td>@ViewBag.TacheRequise.Nom</td>
                            <td>@ViewBag.TacheRequise.Prenom @ViewBag.TacheRequise.Nom</td>
                            <td>
                                <a href="~/Home/Tache?idTache=@ViewBag.TacheRequise.ID" class="btn btn-primary btn-sm" role="button">GO</a>
                            </td>
                        }
                        else
                        {
                            <p>Il n'y a pas de tache requise.</p>
                        }
                    }

                </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="row">
    <div class="col-md-7">
        <h3>Liste des exigences associés</h3>
        <p>
            @Html.Partial("ListeExigences", ListeExigences)
        </p>
    </div>

    <div class="col-md-5">
        <h3>Actions</h3>
        <br />
        <a href="#" class="btn btn-primary btn-lg btn-block">Associer une exigence à la tâche</a>
        <a href="#" class="btn btn-primary btn-lg btn-block">Modifier la tâche</a>
    </div>
</div>